{% extends "_includes/page.html" %}

{% set current_project = project.id %}

{% block title %}{{ project.name }}{% endblock %}

{% block imports %}
  <link rel="import" href="{{ url_for('static', filename='components/app-project-gantt-chart/index.html') }}" />
  <link rel="import" href="{{ url_for('static', filename='components/app-project-resources/index.html') }}" />
  <link rel="import" href="{{ url_for('static', filename='components/app-project-calendar/index.html') }}" />
  <link rel="import" href="{{ url_for('static', filename='components/app-project-members/index.html') }}" />
{% endblock %}

{% block page %}
  <ul class="nav nav-pills pull-right">
    <li class="nav-item">
      <a id="go-to-gantt-chart" href="#" class="nav-link active">Gantt Chart</a>
    </li>
    <li class="nav-item">
      <a id="go-to-resources" href="#" class="nav-link">Resources</a>
    </li>
    <li class="nav-item">
      <a id="go-to-calendar" href="#" class="nav-link">Calendar</a>
    </li>
    <li class="nav-item">
      <a id="go-to-members" href="#" class="nav-link">Members</a>
    </li>
  </ul>

  <h1>{{ project.name }}</h1>

  {% if project.description %}
    <p class="lead">{{ project.description }}</p>
  {% endif %}

  <app-project-gantt-chart id="gantt-chart" project-id="{{ project.id }}"></app-project-gantt-chart>
  <app-project-resources id="resources" project-id="{{ project.id }}" hidden></app-project-resources>
  <app-project-calendar id="calendar" project-id="{{ project.id }}" hidden></app-project-calendar>
  <app-project-members id="members" project-id="{{ project.id }}" hidden></app-project-members>
{% endblock %}

{% block scripts %}
  <script>
    $('#go-to-gantt-chart').click(function(e) {
      $('#go-to-gantt-chart').addClass('active');
      $('#go-to-resources').removeClass('active');
      $('#go-to-calendar').removeClass('active');
      $('#go-to-members').removeClass('active');

      $('#gantt-chart').attr('hidden', false);
      $('#resources').attr('hidden', true);
      $('#calendar').attr('hidden', true);
      $('#members').attr('hidden', true);

      e.preventDefault();
      return false;
    });

    $('#go-to-resources').click(function(e) {
      $('#go-to-gantt-chart').removeClass('active');
      $('#go-to-resources').addClass('active');
      $('#go-to-calendar').removeClass('active');
      $('#go-to-members').removeClass('active');

      $('#gantt-chart').attr('hidden', true);
      $('#resources').attr('hidden', false);
      $('#calendar').attr('hidden', true);
      $('#members').attr('hidden', true);

      e.preventDefault();
      return false;
    });

    $('#go-to-calendar').click(function(e) {
      $('#go-to-gantt-chart').removeClass('active');
      $('#go-to-resources').removeClass('active');
      $('#go-to-calendar').addClass('active');
      $('#go-to-members').removeClass('active');

      $('#gantt-chart').attr('hidden', true);
      $('#resources').attr('hidden', true);
      $('#calendar').attr('hidden', false);
      $('#members').attr('hidden', true);

      e.preventDefault();
      return false;
    });

    $('#go-to-members').click(function(e) {
      $('#go-to-gantt-chart').removeClass('active');
      $('#go-to-resources').removeClass('active');
      $('#go-to-calendar').removeClass('active');
      $('#go-to-members').addClass('active');

      $('#gantt-chart').attr('hidden', true);
      $('#resources').attr('hidden', true);
      $('#calendar').attr('hidden', true);
      $('#members').attr('hidden', false);

      e.preventDefault();
      return false;
    });
  </script>
{% endblock %}
